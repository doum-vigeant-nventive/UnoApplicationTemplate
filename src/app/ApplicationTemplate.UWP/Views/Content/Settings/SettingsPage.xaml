<Page x:Class="ApplicationTemplate.Views.Content.SettingsPage"
	  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	  xmlns:ue="using:Nventive.View.Extensions"
	  xmlns:u="using:Nventive.View.Controls"
	  xmlns:dl="using:Chinook.DataLoader"
	  mc:Ignorable="">

	<Grid Background="{StaticResource MaterialBackgroundBrush}">

		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="*" />
			<!-- SafeAreaRow.Height is set in code behind -->
			<RowDefinition x:Name="SafeAreaRow"
						   Height="0" />
		</Grid.RowDefinitions>

		<!-- CommandBar -->
		<CommandBar Content="Profile"
					x:Uid="Settings_CommandBar" />

		<ScrollViewer Grid.Row="1">
			<StackPanel>

				<!-- DataLoaderView -->
				<dl:DataLoaderView Source="{Binding UserProfile}"
								   MinHeight="270">
					<DataTemplate>
						<StackPanel>

							<!-- User Info Section -->
							<StackPanel Padding="24,24,24,0">

								<!-- Full Name -->
								<TextBlock Style="{StaticResource Headline5}">
									
									<!-- First Name -->
									<Run Text="{Binding Data.FirstName}" />

									<!-- Last Name -->
									<Run Text="{Binding Data.LastName}" />
								</TextBlock>

								<!-- Email Label -->
								<TextBlock Text="Email"
									   x:Uid="Settings_Email"
									   Style="{StaticResource Subtitle2}"
									   Margin="0,16,0,0" />

								<!-- Email Value -->
								<TextBlock Text="{Binding Data.Email}"
										   Style="{StaticResource Body2}" />
							</StackPanel>
							
							<!-- Separator -->
							<Rectangle Fill="{StaticResource SeparatorBrush}"
									Height="1"
									HorizontalAlignment="Stretch"
									Margin="0,16,0,0" />

							<!-- Password Section -->
							<StackPanel Padding="24,16,24,0">
								
								<!-- Password -->
								<TextBlock Text="Password"
											x:Uid="Settings_Password"
											Style="{StaticResource Subtitle2}" />
								<TextBlock Text="xxxxxxxx"
											Style="{StaticResource Body2}" />

								<!-- Change password -->
								<Button Content="CHANGE PASSWORD"
										x:Uid="Settings_ChangePassword"
										Command="{Binding Parent.NavigateToResetPasswordPage}"
										HorizontalAlignment="Left"
										Margin="0,16,0,0" />
							</StackPanel>
						</StackPanel>
					</DataTemplate>
				</dl:DataLoaderView>

				<!-- Separator -->
				<Rectangle Fill="{StaticResource SeparatorBrush}" 
						   Height="1"
						   HorizontalAlignment="Stretch" />

				<StackPanel Margin="24,16">

					<!-- Version -->
					<Grid Background="Transparent"
						  ue:MultipleTapExtension.Command="{Binding NavigateToDiagnosticsPage}"
						  ue:MultipleTapExtension.TapCount="3">

						<TextBlock Style="{StaticResource Subtitle2}">

							<!-- Label -->
							<Run Text="DAD Jokes - Version"
								 x:Uid="Settings_Version" />

							<!-- Value -->
							<Run Text="{Binding VersionNumber}" />
						</TextBlock>
					</Grid>

					<!-- API Info -->
					<TextBlock Text="This application makes use of the dadjokes API from Dadjokes.io, which contains thousands of jokes."
							   x:Uid="Settings_Version_Details"
							   Style="{StaticResource Body2}"
							   Foreground="{StaticResource MaterialOnBackgroundBrush}"
							   Opacity="{StaticResource MaterialMediumOpacity}"/>

					<!-- Replay tutorial -->
					<Button Content="REPLAY TUTORIAL"
							x:Uid="Settings_ReplayTutorial"
							Command="{Binding NavigateToOnboardingPage}"
							Style="{StaticResource MaterialContainedSecondaryButtonStyle}"
							HorizontalAlignment="Left"
							Margin="0,16,0,0" />
				</StackPanel>

				<!-- Separator -->
				<Rectangle Fill="{StaticResource SeparatorBrush}" 
						   Height="1"
						   HorizontalAlignment="Stretch" />

				<!-- Notification -->
				<Grid Margin="24,16,20,16">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*" />
						<ColumnDefinition Width="Auto" />
					</Grid.ColumnDefinitions>

					<StackPanel VerticalAlignment="Center">
						
						<!-- Label -->
						<TextBlock Text="Notification"
								   x:Uid="Settings_Notification"
								   Style="{StaticResource Subtitle2}" />
						
						<!-- Info -->
						<TextBlock Text="I agree to receive notifications when there are new jokes."
								   x:Uid="Settings_Notification_Details"
								   Style="{StaticResource Body2}" />
					</StackPanel>

					<!-- ToggleSwitch -->
					<ToggleSwitch VerticalAlignment="Center"
								  Margin="20,0,0,0"
								  Grid.Column="1" />
				</Grid>

				<!-- Separator -->
				<Rectangle Fill="{StaticResource SeparatorBrush}" 
						   Height="1"
						   HorizontalAlignment="Stretch" />

				<!-- Dark Mode  -->
				<Grid Margin="24,0,20,0"
					  MinHeight="60">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*" />
						<ColumnDefinition Width="Auto" />
					</Grid.ColumnDefinitions>

					<!-- Label -->
					<TextBlock Text="Dark mode"
							   x:Uid="Settings_DarkMode"
							   Style="{StaticResource Subtitle2}"
							   VerticalAlignment="Center" />

					<!-- ToggleSwitch -->
					<ToggleSwitch Toggled="OnThemeButtonClicked"
								  VerticalAlignment="Center"
								  Margin="20,0,0,0"
								  Grid.Column="1" />
				</Grid>

				<!-- Separator -->
				<Rectangle Fill="{StaticResource SeparatorBrush}" 
						   Height="1"
						   HorizontalAlignment="Stretch" />

				<!-- Privacy Policy Button -->
				<Button Content="Privacy policy"
						x:Uid="Settings_PrivacyPolicy"
						Command="{Binding NavigateToPrivacyPolicyPage}"
						Style="{StaticResource MaterialTextWithRightArrowAlternativeButtonStyle}" />

				<!-- Separator -->
				<Rectangle Fill="{StaticResource SeparatorBrush}" 
						   Height="1"
						   HorizontalAlignment="Stretch" />

				<!-- Terms & Conditions Button -->
				<Button Content="Terms &amp; conditions"
						x:Uid="Settings_TermsAndConditions"
						Command="{Binding NavigateToTermsAndConditionsPage}"
						Style="{StaticResource MaterialTextWithRightArrowAlternativeButtonStyle}" />

				<!-- Separator -->
				<Rectangle Fill="{StaticResource SeparatorBrush}" 
						   Height="1"
						   HorizontalAlignment="Stretch"/>

				<!-- Logout -->
				<Button Content="LOGOUT"
						x:Uid="Settings_Logout"
						Command="{Binding Logout}"
						Background="{StaticResource MaterialPrimaryAccentBrush}"
						HorizontalAlignment="Left"
						Margin="24,16" />
			</StackPanel>
		</ScrollViewer>
	</Grid>
</Page>
